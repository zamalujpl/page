---
/** @typedef {{ href: string; imgSrc: string; imgAlt: string; buttonText: string; title?: string; description?: string }} CardItem */
const { items, headerImgSrc, headerImgAlt, headerDescription } = Astro.props;
/** @type {CardItem[]} */
const cardItems = /** @type {any} */ (items);
const fallbackImgSrc = "/assets/default-header.png";
const imgSrc = headerImgSrc || fallbackImgSrc;
const imgAlt = headerImgAlt || "Nagłówek";
---

<!-- Hero header with integrated description -->
<section
  class="hero bg-base-100 rounded-box mb-8 sm:mb-10 shadow-sm border border-base-200/60"
>
  <div class="hero-content flex-col lg:flex-row gap-6 lg:gap-10 w-full">
    <div class="w-full lg:w-1/2">
      <figure
        class="w-full max-h-[400px] flex items-center justify-center overflow-hidden rounded-lg"
      >
        <img
          src={imgSrc}
          alt={imgAlt}
          class="object-contain w-full h-full rounded-lg"
          width="1200"
          height="400"
          loading="eager"
          decoding="async"
        />
      </figure>
    </div>
    {
      headerDescription && (
        <div class="w-full lg:w-1/2 text-center lg:text-left">
          <h1 class="text-2xl sm:text-3xl font-bold tracking-tight mb-4 text-base-content">
            {imgAlt}
          </h1>
          <p class="prose max-w-none text-base sm:text-lg leading-relaxed text-base-content/80">
            {headerDescription}
          </p>
        </div>
      )
    }
  </div>
</section>

<!-- Cards grid -->
<div
  class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 sm:gap-4 w-full px-1 sm:px-0"
>
  {
    cardItems.map((/** @type {CardItem} */ item) => (
      <a
        href={item.href}
        aria-label={item.buttonText}
        class="card group bg-base-100 border border-base-200 shadow-md hover:shadow-xl transition duration-200 hover:-translate-y-1 focus-visible:-translate-y-1 focus-visible:outline focus-visible:outline-primary focus-visible:shadow-xl"
      >
        <figure class="px-2 pt-2 sm:px-3 sm:pt-3 flex items-center justify-center">
          <img
            src={item.imgSrc}
            alt={item.imgAlt}
            class="w-full max-w-[120px] sm:max-w-[140px] md:max-w-[160px] aspect-square object-contain rounded transition-transform duration-300 group-hover:scale-110"
            width="180"
            height="180"
            loading="lazy"
            decoding="async"
          />
        </figure>
        <div class="card-body items-center text-center p-3 sm:p-4">
          <div class="card-actions">
            <span class="btn btn-outline btn-primary btn-xs sm:btn-sm mt-1 sm:mt-2">
              {item.buttonText}
            </span>
          </div>
        </div>
      </a>
    ))
  }
</div>
